<div class="container mt-2">
  <!-- Carte des clients -->
  <div class="card shadow"  *ngIf="accounts">
    <!-- Affichage du message d'erreur -->
    <div *ngIf="errorMessage" class="alert alert-danger">
      {{ errorMessage }}
    </div>
    <div class="card-header  text-white">
      <h4 class="mb-0">Liste des Comptes</h4>
    </div>
    <div class="card-body" >
      <table class="table table-bordered table-striped">
        <thead class="thead-dark">
        <tr>
          <th>Nom</th>
          <th>Email</th>
          <th>Balance</th>
          <th>Type</th>
          <th>Status</th>
          <th>Creat At</th>
          <th>Credit</th>
        </tr>
        </thead>
        <tbody>
          <tr *ngFor="let account of accounts">
            <td>{{account.customerDto.name}}</td>
            <td>{{account.customerDto.adressMail}}</td>
            <td>{{account.balance}}</td>
            <td>{{account.type}}</td>
            <td>{{account.status}}</td>
            <td>{{account.createdAt}}</td>
            <td>
              <button (click)="openPopUp(account.id)" ><i class="bi bi-cash"></i></button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
<div id="modal" class="modal" tabindex="-1" role="dialog" *ngIf="fg">
  <div class="modal-dialog" role="document">
    <div class="modal-content">

      <div class="modal-body" [formGroup]="fg">
        <p>Poser d'argent.</p>
        <label class="form-label">Agents:</label>
        <input type="text" formControlName="argent"  class="form-control">
        <label class="form-label">Description:</label>
        <input type="text" formControlName="description" class="form-control">
      </div>
      <div class="modal-footer">
        <button type="button" (click)="poseDargent()" class="btn btn-primary">Save changes</button>
        <button type="button" (click)="closePopUp()" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

